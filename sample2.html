<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Draggable／Droppableウィジェット</title>

<!-- cssの設定 
　　　.drag 列名、データ型、制約　のパーツの設定
	 .drop 円形のフィールドの設定
-->
<style type="text/css">
.drag { width: 120px; height: 80px; margin: 30px;
  border: solid 1px #333; background-color:#ba6; float:left; }
<!--.drop { width: 480px; height: 200px; margin: 40px;
  border: solid 1px #333; background-color:#cf6; }
  -->
.drop { width: 200px;
		height: 200px;
		-webkit-border-radius: 100px;/* width,heightの半分 */
		-moz-border-radius: 100px;
		border-radius: 100px;
		background-color: #cf6;/* 円の色 */
		}
hr { clear: both; }
</style>

<!-- jquery と　jquery-ui をオンラインで使用する-->

<script type="text/javascript"
  src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
<script type="text/javascript"
  src="http://code.jquery.com/ui/1.10.3/jquery-ui.min.js"></script>
<script type="text/javascript">

/*　jquery-ui を用いたドラッグアンドドロップの基本形
$(function() {
   //1ドラッグ＆ドロップ機能を実装
  $('.drag').draggable();
  $('.drop').droppable();
});
*/
/*　ちょっと残してるだけなので消していいです
$(function() {
   //1ドラッグ＆ドロップ機能を実装
  $('.drag').draggable({
	helper: 'clone',
	connectToSortable: '.drop'
});
  $('.drop').droppable({
  drop: function(e, ui) {
    $(this).html($(this).html() +
      ui.draggable.text() + 'がドロップされました。<br />');
  }
	});
  });
*/
/*
  $(function(){
	alert('アラートのテスト');
});
*/

//円内に配置されたパーツの並び替え
$(function() {
    $('.drop').sortable({
        revert : true,
        cursor : 'move',
        receive : function(event, ui) {
             var item = $(this).find('.drag');
            //ここでドロップ後のli要素に対して処理を行う。
            $(item).removeClass('drag');
        }
    });

	//円形のフィールドを動かせるようにする	
	$('.drop').draggable();
	
	//	.dragがドロップされる際の動き
    $('.drag').draggable({
        connectToSortable : '.drop',
      //helper: 'clone',
        helper : function() {
            return $(this).clone().addClass('drag');
        },
        revert : 'invalid',
    });
});

//ゴミ箱にドロップした時の処理
$(document).ready(function(){
  $("#sortable").sortable();
  $("#trash").droppable({
    hoverClass: "ui-state-hover",
    drop: function( event, ui ){
      ui.draggable.remove();
    }
  });
});

function func() {
  var x = document.getElementById('drop').value;
  numx = parseInt(x);
  numx = numx + 1;
  document.getElementById('answer').innerHTML = numx;
}

</script>
</head>
<body>
<div id="main">
  <div id="drag1" class="drag"><p><label>列名<input type="text" name="culum" size="15" maxlength="20"></label></p></div>
  <div id="drag2" class="drag"><p><label>データ型
  <select name="type">
  <otpion value="0">text</option>
  <option value="1">int</option>
  <option value="2">char</option>
  <option value="3">varchar</option>
  <option value="4">boolean</option>
  </select>
  <input type="text" name="num" size="1" maxlength="10">
  </label></p></div>
  <div id="drag3" class="drag"><p><label>制約
  <select name="limit">
  <otpion value="0">unique key</option>
  <option value="1">primary key</option>
  <option value="2">not null</option>
  <option value="3">auto increment</option>
  <option value="4">foreign key</option>
  </select>
  </div>
  <hr />
  <img src="ゴミ箱.jpg" id="trash">
  <form name="param" action="#">
  <div class="drop"></div>
  <p><input type="submit" value="送信する"></p>
  </form>
</div>
<div id="answer"></div>
</body>
</html>
